# wengwengweng

[package]
name = "dirty"
description = "dirty tool kit"
version = "0.0.0"
authors = ["tga <tga@wengwengweng.me>"]
repository = "https://github.com/slmjkdbtl/DIRTY"
license = "Zlib"
edition = "2018"
readme = "README.md"
exclude = ["TODO"]

# [profile.release]
# lto = true
# panic = "abort"

[features]
default = [

	# modules
	"fs",
	"app",
	"img",
	"gkit",
	"audio",
	"synth",
# 	"http",
# 	"physics",
# 	"term",
# 	"video",
# 	"serial",
# 	"ase",
# 	"texpack",
# 	"xr",
# 	"osc",
# 	"json",
# 	"bin",

	# options
# 	"gl3",

]

fs = [
	"directories",
	"glob",
	"core-foundation",
]

app = [
	"sdl2",
	"glow",
	"fontdue",
	"splines",
	"tobj",
	"gltf",
	"stdweb",
	"webgl_stdweb",
]

img = [
	"image",
]

audio = [
	"rodio",
]

synth = [
	"cpal",
]

http = [
	"url",
	"httparse",
	"native-tls",
]

term = [
	"console",
]

ase = [
	"ase_json",
	"ase_bin",
]

texpack = [
	"sheep",
]

xr = [
	"openxr",
]

osc = [
	"rosc",
]

json = [
	"serde_json",
]

bin = [
	"bincode",
]

gkit = []
video = []
physics = []

gl3 = []

[dependencies]
random = { version = "0.7", package = "rand" }
derive_more = "0.99"
once_cell = "1.2"
owning_ref = "0.4"
num_cpus = "1.10"
serde = { version = "1.0", features = [ "derive", ] }

# fs
directories = { version = "2.0", optional = true }
glob = { version = "0.3", optional = true }

# app
glow = { version = "0.3.0-alpha3", optional = true, default-features = false, features = [ "stdweb", ] }
fontdue = { version = "0.0", optional = true }
splines = { version = "3.0", optional = true }
image = { version = "0.22", optional = true, default-features = false, features = [ "png_codec", "jpeg", "tga", "bmp", ] }
tobj = { version = "0.1", optional = true }
gltf = { version = "0.14", optional = true }

# audio
rodio = { version = "0.10", optional = true, default-features = false, features = [ "vorbis", "mp3", "wav", ] }

# synth
cpal = { version = "0.10", optional = true }

# http
url = { version = "2.1", optional = true }
httparse = { version = "1.3", optional = true }

# ase
ase_json = { version = "0.1", optional = true, package = "aseprite" }
ase_bin = { version = "0.1", optional = true, package = "ase" }

# texpack
sheep = { version = "0.3", optional = true }

# osc
rosc = { version = "0.3", optional = true }

# json
serde_json = { version = "1.0", optional = true }

# bin
bincode = { version = "1.2", optional = true }

# xr
openxr = { version = "0.10", optional = true }

# rayon = "1.2"
# laminar = "0.3"
# sokol = "0.3"

[target.'cfg(not(target_arch="wasm32"))'.dependencies]
# https://github.com/Rust-SDL2/rust-sdl2/issues/883
sdl2 = { git = "https://github.com/Rust-SDL2/rust-sdl2/", optional = true, features = ["static-link", "bundled"] }

[target.'cfg(all(not(target_os="ios"), not(target_os="android"), not(target_arch="wasm32")))'.dependencies]
console = { version = "0.9", optional = true }
native-tls = { version = "0.2", optional = true }
serial = { version = "0.4", optional = true }

[target.'cfg(target_os="macos")'.dependencies]
core-foundation = { version = "0.7", optional = true }

[target.'cfg(target_arch="wasm32")'.dependencies]
stdweb = { version = "0.4", optional = true }
webgl_stdweb = { version = "0.3", optional = true }

